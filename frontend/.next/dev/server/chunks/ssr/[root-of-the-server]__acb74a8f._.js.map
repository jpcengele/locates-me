{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/jpce/.gemini/antigravity/scratch/locates-me/frontend/components/Map.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useRef, useEffect, useState, useCallback } from 'react';\nimport mapboxgl from 'mapbox-gl';\nimport 'mapbox-gl/dist/mapbox-gl.css';\n\n// Placeholder token - User needs to replace this!\nconst MAPBOX_TOKEN = process.env.NEXT_PUBLIC_MAPBOX_TOKEN || \"pk.eyJ1IjoiZXhhbXBsZSIsImEiOiJjbTV...\"\n\nmapboxgl.accessToken = MAPBOX_TOKEN;\n\nexport default function MapComponent() {\n    const mapContainer = useRef<HTMLDivElement>(null);\n    const map = useRef<mapboxgl.Map | null>(null);\n    const [lng, setLng] = useState(-122.4194);\n    const [lat, setLat] = useState(37.7749);\n    const [zoom, setZoom] = useState(14);\n    const [address, setAddress] = useState<string>(\"Hover map to see address\");\n    const [loading, setLoading] = useState(false);\n\n    // Debounce the API call\n    const fetchAddress = useCallback(async (lat: number, lon: number) => {\n        try {\n            setLoading(true);\n            const res = await fetch(`http://localhost:8000/encode?lat=${lat}&lon=${lon}&lang=en`);\n            if (res.ok) {\n                const data = await res.json();\n                setAddress(data.words);\n            } else {\n                setAddress(\"Error fetching address\");\n            }\n        } catch (e) {\n            setAddress(\"Error connecting to API\");\n        } finally {\n            setLoading(false);\n        }\n    }, []);\n\n    useEffect(() => {\n        if (map.current) return; // initialize map only once\n        if (!mapContainer.current) return;\n\n        map.current = new mapboxgl.Map({\n            container: mapContainer.current,\n            style: 'mapbox://styles/mapbox/streets-v12',\n            center: [lng, lat],\n            zoom: zoom\n        });\n\n        map.current.on('move', () => {\n            if (!map.current) return;\n            setLng(parseFloat(map.current.getCenter().lng.toFixed(4)));\n            setLat(parseFloat(map.current.getCenter().lat.toFixed(4)));\n            setZoom(parseFloat(map.current.getZoom().toFixed(2)));\n        });\n\n        map.current.on('mousemove', (e) => {\n            // Debounce logic could be here, but for simplicity we call directly or use a timeout\n            // Let's use a simple timeout approach or just call it (API is local, it's fast)\n            // For better performance, we should debounce.\n            const { lng, lat } = e.lngLat;\n            fetchAddress(lat, lng);\n        });\n    }, [lat, lng, zoom, fetchAddress]);\n\n    return (\n        <div className=\"w-full h-screen relative\">\n            <div ref={mapContainer} className=\"map-container w-full h-full\" />\n\n            <div className=\"absolute bottom-10 left-1/2 transform -translate-x-1/2 bg-white/90 backdrop-blur-md p-6 rounded-2xl shadow-2xl border border-gray-200 text-center min-w-[300px]\">\n                <h2 className=\"text-sm uppercase tracking-widest text-gray-500 mb-1\">Locates.me Address</h2>\n                <div className=\"text-2xl font-bold text-gray-900 font-mono\">\n                    {loading ? <span className=\"opacity-50\">...</span> : address}\n                </div>\n                <div className=\"text-xs text-gray-400 mt-2\">\n                    {lat.toFixed(6)}, {lng.toFixed(6)}\n                </div>\n            </div>\n\n            {!process.env.NEXT_PUBLIC_MAPBOX_TOKEN && (\n                <div className=\"absolute top-0 left-0 w-full bg-red-500 text-white text-center p-2 text-sm font-bold\">\n                    WARNING: Missing NEXT_PUBLIC_MAPBOX_TOKEN in .env.local\n                </div>\n            )}\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;AAEA;;;;;;;;;;;AAFA;;;;;AAMA,kDAAkD;AAClD,MAAM,eAAe,QAAQ,GAAG,CAAC,wBAAwB,IAAI;AAE7D,SAAS,WAAW,GAAG;AAER,SAAS;IACpB,MAAM,eAAe,IAAA,kRAAM,EAAiB;IAC5C,MAAM,MAAM,IAAA,kRAAM,EAAsB;IACxC,MAAM,CAAC,KAAK,OAAO,GAAG,IAAA,oRAAQ,EAAC,CAAC;IAChC,MAAM,CAAC,KAAK,OAAO,GAAG,IAAA,oRAAQ,EAAC;IAC/B,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,oRAAQ,EAAC;IACjC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,oRAAQ,EAAS;IAC/C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,oRAAQ,EAAC;IAEvC,wBAAwB;IACxB,MAAM,eAAe,IAAA,uRAAW,EAAC,OAAO,KAAa;QACjD,IAAI;YACA,WAAW;YACX,MAAM,MAAM,MAAM,MAAM,CAAC,iCAAiC,EAAE,IAAI,KAAK,EAAE,IAAI,QAAQ,CAAC;YACpF,IAAI,IAAI,EAAE,EAAE;gBACR,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,WAAW,KAAK,KAAK;YACzB,OAAO;gBACH,WAAW;YACf;QACJ,EAAE,OAAO,GAAG;YACR,WAAW;QACf,SAAU;YACN,WAAW;QACf;IACJ,GAAG,EAAE;IAEL,IAAA,qRAAS,EAAC;QACN,IAAI,IAAI,OAAO,EAAE,QAAQ,2BAA2B;QACpD,IAAI,CAAC,aAAa,OAAO,EAAE;QAE3B,IAAI,OAAO,GAAG,IAAI,SAAS,GAAG,CAAC;YAC3B,WAAW,aAAa,OAAO;YAC/B,OAAO;YACP,QAAQ;gBAAC;gBAAK;aAAI;YAClB,MAAM;QACV;QAEA,IAAI,OAAO,CAAC,EAAE,CAAC,QAAQ;YACnB,IAAI,CAAC,IAAI,OAAO,EAAE;YAClB,OAAO,WAAW,IAAI,OAAO,CAAC,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC;YACtD,OAAO,WAAW,IAAI,OAAO,CAAC,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC;YACtD,QAAQ,WAAW,IAAI,OAAO,CAAC,OAAO,GAAG,OAAO,CAAC;QACrD;QAEA,IAAI,OAAO,CAAC,EAAE,CAAC,aAAa,CAAC;YACzB,qFAAqF;YACrF,gFAAgF;YAChF,8CAA8C;YAC9C,MAAM,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,MAAM;YAC7B,aAAa,KAAK;QACtB;IACJ,GAAG;QAAC;QAAK;QAAK;QAAM;KAAa;IAEjC,qBACI,iTAAC;QAAI,WAAU;;0BACX,iTAAC;gBAAI,KAAK;gBAAc,WAAU;;;;;;0BAElC,iTAAC;gBAAI,WAAU;;kCACX,iTAAC;wBAAG,WAAU;kCAAuD;;;;;;kCACrE,iTAAC;wBAAI,WAAU;kCACV,wBAAU,iTAAC;4BAAK,WAAU;sCAAa;;;;;mCAAa;;;;;;kCAEzD,iTAAC;wBAAI,WAAU;;4BACV,IAAI,OAAO,CAAC;4BAAG;4BAAG,IAAI,OAAO,CAAC;;;;;;;;;;;;;YAItC,CAAC,QAAQ,GAAG,CAAC,wBAAwB,kBAClC,iTAAC;gBAAI,WAAU;0BAAuF;;;;;;;;;;;;AAMtH"}},
    {"offset": {"line": 164, "column": 0}, "map": {"version":3,"sources":["file:///Users/jpce/.gemini/antigravity/scratch/locates-me/frontend/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":"AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;KAElC;IACL,IAAIF,QAAQC,GAAG,CAACK,yBAAyB,EAAE;;SAcpC;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1C,IAAIP,QAAQC,GAAG,CAACO,SAAS,eAAE;gBACzBL,OAAOC,OAAO,GAAGC,QAAQ;YAC3B,OAAO;;QAGT,OAAO;;IAOT;AACF","ignoreList":[0]}},
    {"offset": {"line": 183, "column": 0}, "map": {"version":3,"sources":["file:///Users/jpce/.gemini/antigravity/scratch/locates-me/frontend/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4KACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0]}},
    {"offset": {"line": 188, "column": 0}, "map": {"version":3,"sources":["file:///Users/jpce/.gemini/antigravity/scratch/locates-me/frontend/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n"],"names":["module","exports","require","vendored","React"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4KACRC,QAAQ,CAAC,YAAY,CAAEC,KAAK","ignoreList":[0]}}]
}